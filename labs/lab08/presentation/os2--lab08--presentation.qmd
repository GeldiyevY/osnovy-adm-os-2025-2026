---
# Preamble

## Author
author:
  name: Гелдиев Ыхлас
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: 1032249184@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: "Лабораторная работа № 8"
subtitle: "Планировщики событий"
license: CC BY
date: 2025-10-25
## Generic options
lang: ru-RU
crossref:
  lof-title: Список иллюстраций
  lot-title: Список таблиц
  lol-title: Листинги
## Formats
format:
  ### Pdf output format
  beamer:
    include-in-header:
      text: |
        \usepackage{fontspec}
        \setmainfont{Noto Serif}
        \setsansfont{Noto Sans}
    toc: true
    toc-title: Содержание
    number-sections: true
    colorlinks: false
    toc-depth: 2
    slide_level: 2
    aspectratio: 169
    section-titles: true
    theme: metropolis
    themeoptions: progressbar=frametitle,sectionpage=progressbar,numbering=fraction
    #### Language
    babel-lang: russian
    babel-otherlangs: english
  ### Html output
  revealjs:
    transition: slide
    margin: 0.2
    smaller: false
    output-ext: html
    theme: beige
    logo: _resources/image/logo_rudn.png
---

# Информация

## Докладчик

- Гелдиев Ыхлас
- студент
- Российский университет дружбы народов им. П. Лумумбы
- [1032249184@pfur.ru](mailto:1032249184@pfur.ru)
- <https://geldiyevy.github.io/ru/>

# Вводная часть

## Цели работы

Получение навыков работы с планировщиками событий cron и at.

## Задание

1. Выполните задания по планированию задач с помощью crond.
2. Выполните задания по планированию задач с помощью atd.

# Выполнение лабораторной работы

# Планирование задач с помощью cron

## Запустите терминал и получите полномочия администратора: ([рис. @fig-001])

su -

## Посмотрите статус демона crond: ([рис. @fig-001])

systemctl status crond -l

## Посмотрите содержимое файла конфигурации /etc/crontab: ([рис. @fig-001])

cat /etc/crontab

## Посмотрите список заданий в расписании: ([рис. @fig-001])

crontab -l
Ничего не отобразится, так как расписание ещё не задано.

![1](image/1.png){#fig-001}

## Откройте файл расписания на редактирование:

crontab -e

![2](image/2.png)

Команда запустит интерфейс редактора (по умолчанию используется vi).

## Добавьте следующую строку в файл расписания (запись сообщения в системный журнал), используя Ins для перехода в vi в режим ввода:

`_/1 _ \* \* \* logger This message is written from root cron`
Закройте сеанс редактирования vi и сохраните изменения, используя команду vi:
`Esc : w q `.

![3](image/3.png)

## В отчёте поясните синтаксис записи в crontab.

- Синтаксис записи в crontab состоит из шести полей, разделённых пробелами:
  `минуты часы день_месяца месяц день_недели команда`
  Пример: `0 2 * * * /path/to/script.sh` — запускает скрипт в 2:## ночи ежедневно

## Посмотрите список заданий в расписании:

crontab -l
В расписании должна появиться запись о запланированном событии.

![4](image/4.png)

## Не выключая систему, через некоторое время (2–3 минуты) просмотрите журнал системных событий:

grep written /var/log/messages
В отчёте отразите результат.

![5](image/5.png)

## Измените запись в расписании crontab на следующую:

0 _/1 _ \* 1-5 logger This message is written from root cron
В отчёте поясните синтаксис записи в crontab.

![6](image/6.png)

## Посмотрите список заданий в расписании:

crontab -l

![7](image/7.png)

## Перейдите в каталог /etc/cron.hourly и создайте в нём файл сценария с именем eachhour:

cd /etc/cron.hourly
touch eachhour

![8](image/8.png)

## Откройте файл eachhour для редактирования и пропишите в нём следующий скрипт (запись сообщения в системный журнал):

#!/bin/sh
logger This message is written at $(date)

![9](image/9.png)

## Сделайте файл сценария eachhour исполняемым: ([рис. @fig-002])

chmod +x eachhour

## Теперь перейдите в каталог /etc/crond.d и создайте в нём файл с расписанием eachhour: ([рис. @fig-002])

cd /etc/cron.d
touch eachhour

![10](image/10.png){#fig-002}

Откройте этот файл для редактирования и поместите в него следующее содержимое:
`14 * * * * root logger This message is written from /etc/cron.d`
Сохраните изменения.

![11](image/11.png)

В отчёте поясните синтаксис этой записи.

- Эта запись означает, что в 14 минут каждого часа, каждый день, каждый месяц и каждый день недели, пользователь root выполнит команду logger This message is written from /etc/cron.d (которая записывает указанное сообщение в системный журнал).

## Не выключая систему, через некоторое время (2–3 часа) просмотрите журнал системных событий:

`grep written /var/log/messages`
По журналу определите, был ли осуществлён запуск сценария eachhour в соответствии с заданным расписанием.

![12](image/12.png)

# Планирование заданий с помощью at

## Запустите терминал и получите полномочия администратора:

su -

![su](image/su.png)

## Проверьте, что служба atd загружена и включена:

systemctl status atd

![13](image/13.png)

## Задайте выполнение команды logger message from at в 9:30 (или замените на

любое другое время, когда вы работаете над этим упражнением). Для этого введите
at 9:30
Затем введите
logger message from at
Используйте `Ctrl + d` , чтобы закрыть оболочку.

![14](image/14.png)

## Убедитесь, что задание действительно запланировано:

`atq`

![15](image/15.png)

С помощью команды
`grep 'from at' /var/log/messages`
посмотрите, появилось ли соответствующее сообщение в лог-файле в указанное вами время

![16](image/16.png)

## Выводы

Я получил навыки для работы с планировщиками событий cron и at.

---
# Preamble

## Author
author:
  name: Гелдиев Ыхлас
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: 1032249184@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: "Лабораторная работа № 13"
subtitle: "Фильтр пакетов"
license: CC BY
date: 2025-11-29
## Generic options
lang: ru-RU
crossref:
  lof-title: Список иллюстраций
  lot-title: Список таблиц
  lol-title: Листинги
## Formats
format:
  ### Pdf output format
  beamer:
    include-in-header:
      text: |
        \usepackage{fontspec}
        \setmainfont{Noto Serif}
        \setsansfont{Noto Sans}
    toc: true
    toc-title: Содержание
    number-sections: true
    colorlinks: false
    toc-depth: 2
    slide_level: 2
    aspectratio: 169
    section-titles: true
    theme: metropolis
    themeoptions: progressbar=frametitle,sectionpage=progressbar,numbering=fraction
    #### Language
    babel-lang: russian
    babel-otherlangs: english
  ### Html output
  revealjs:
    transition: slide
    margin: 0.2
    smaller: false
    output-ext: html
    theme: beige
    logo: _resources/image/logo_rudn.png
---

# Информация

## Докладчик

- Гелдиев Ыхлас
- студент
- Российский университет дружбы народов им. П. Лумумбы
- [1032249184@pfur.ru](mailto:1032249184@pfur.ru)
- <https://geldiyevy.github.io/ru/>

# Вводная часть

## Цели и задачи

Получить навыки настройки пакетного фильтра в Linux.

1. Используя firewall-cmd:
   – определить текущую зону по умолчанию;
   – определить доступные для настройки зоны;
   – определить службы, включённые в текущую зону;
   – добавить сервер VNC в конфигурацию брандмауэра.
2. Используя firewall-config:
   – добавьте службы http и ssh в зону public;
   – добавьте порт 2022 протокола UDP в зону public;
   – добавьте службу ftp.
3. Выполните задание для самостоятельной работы (раздел 13.5).

# Выполнение лабораторной работы

# Управление брандмауэром с помощью firewall-cmd

## Получите полномочия администратора:

su -

![1](image/1.png)

## Определите текущую зону по умолчанию, введя:

firewall-cmd --get-default-zone

![2](image/2.png)

## Определите доступные зоны, введя:

firewall-cmd --get-zones

![3](image/3.png)

## Посмотрите службы, доступные на вашем компьютере, используя

firewall-cmd --get-services

![4](image/4.png)

## Определите доступные службы в текущей зоне:

firewall-cmd --list-services

![5](image/5.png)

## Сравните результаты вывода информации при использовании команды

firewall-cmd --list-all

![6](image/6.png)

## И команды

firewall-cmd --list-all --zone=public

![7](image/7.png)

## Добавьте сервер VNC в конфигурацию брандмауэра:

firewall-cmd --add-service=vnc-server

![8](image/8.png)

## Проверьте, добавился ли vnc-server в конфигурацию:

firewall-cmd --list-all

![9](image/9.png)

## Перезапустите службу firewalld:

systemctl restart firewalld

![10](image/10.png)

## Проверьте, есть ли vnc-server в конфигурации:

firewall-cmd --list-all

![11](image/11.png)

## Обратите внимание, что служба vnc-server больше не указана. Поясните, почему это произошло.

- Мы включили службы только для нынешней сессии

## Добавьте службу vnc-server ещё раз, но на этот раз сделайте её постоянной, используя команду

firewall-cmd --add-service=vnc-server --permanent

![12](image/12.png)

## Проверьте наличие vnc-server в конфигурации:

firewall-cmd --list-all
Вы увидите, что VNC-сервер не указан. Службы, которые были добавлены в конфигурацию на диске, автоматически не добавляются в конфигурацию времени выполнения.

![13](image/13.png)

## Перезагрузите конфигурацию firewalld и просмотрите конфигурацию времени выполнения:

firewall-cmd --reload
firewall-cmd --list-all

![14](image/14.png)

## Добавьте в конфигурацию межсетевого экрана порт 2022 протокола TCP:

firewall-cmd --add-port=2022/tcp --permanent

![15](image/15.png)

## Затем перезагрузите конфигурацию firewalld:

firewall-cmd --reload

![16](image/16.png)

## Проверьте, что порт добавлен в конфигурацию:

firewall-cmd --list-all

![17](image/17.png)

# Управление брандмауэром с помощью firewall-config

## Откройте терминал и под учётной записью своего пользователя запустите интерфейс GUI firewall-config:

firewall-config
Если служба отсутствует, то система предложит вам её установить. Также при запуске потребуется ввести пароль пользователя с полномочиями управления этой службой.

![18](image/18.png)

## Нажмите выпадающее меню рядом с параметром Configuration. Откройте раскрывающийся список и выберите Permanent.

Это позволит сделать постоянными все изменения, которые вы вносите при конфигурировании.

![19](image/19.png)

## Выберите зону public и отметьте службы http, https и ftp, чтобы включить их.

![20](image/20.png)

## Выберите вкладку Ports и на этой вкладке нажмите Add . Введите порт 2022 и протокол udp, нажмите ОК , чтобы добавить их в список.

![21](image/21.png)

## Закройте утилиту firewall-config.

![22](image/22.png)

## В окне терминала введите

firewall-cmd --list-all
Обратите внимание, что изменения, которые вы только что внесли, ещё не вступили в силу. Это связано с тем, что вы настроили их как постоянные изменения, а не как изменения времени выполнения.

![23](image/23.png)

## Перегрузите конфигурацию firewall-cmd:

firewall-cmd --reload
и список доступных сервисов:
firewall-cmd --list-all
Вы увидите, что изменения были применены

![24](image/24.png)

# Самостоятельная работа

## Создайте конфигурацию межсетевого экрана, которая позволяет получить доступ к следующим службам:

– telnet;
– imap;
– pop3;
– smtp.

![25](image/25.png)

## Сделайте это как в командной строке (для службы telnet), так и в графическом интерфейсе (для служб imap, pop3, smtp).

![26](image/26.png)

##

![27](image/27.png)

##

![28](image/28.png)

## Убедитесь, что конфигурация является постоянной и будет активирована после перезагрузки компьютера.

![29](image/29.png)

## Выводы

Я получил навыки настройки пакетного фильтра в Linux.
